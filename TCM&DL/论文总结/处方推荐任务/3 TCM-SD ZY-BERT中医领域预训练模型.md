# TCM-SD : 传统中国医学-辩证论治：通过自然语言处理探索辩证论治的基准数据集
## 贡献
1. 创建了一个公共的大规模的**中医辩证论治微调数据集**（来源徐州中医院的真实脱敏病例）
2. 提出了两种数据标准化的方法：（1）剪枝 （2）合并
3. 提出了一个**特定领域(中医辩证论治)的预训练模型ZY-BERT**

## 中医诊断流程
**症状集合（包括病人的症状、体征、年龄、病史等等）** -> （望闻问切，四诊合参）-> ***证*** -> (论治，分析治疗方法) -> **治法、方剂（药材集合）**

## 同病异治、异病同治

## 数据集(有、已下载)
1. 预训练模型用的数据集（让BERT具备中医领域的通识能力）
网络上爬取的各种中医相关的资料，书籍，期刊，网站......
2. 微调数据集（让经过预训练后的模型具备处理特定任务的能力）（中医辩证论治）
   - > {
"user_id": "490695", 
"lcd_id": "A17.41", 
"lcd_name": "便血", 
"syndrome": "气虚不摄证", 
"chief_complaint": "解黑便半日",
"description": "患者凌晨无明显诱因出现解黑便症状，可见鲜血，伴腹痛隐隐，量少，2次/日，无粘液脓液，无里急后重，伴呕吐，呕吐物为胃内容物及咖啡色液体，量可，家属遂送病人送至我院急诊就诊，急诊拟上消化道出血收住入院。发病来，患者仍解黑便，伴乏力，食欲减退，觉恶心欲吐，无咳嗽咳痰，无发热黄疸，无心慌胸闷，无吞咽困难，无尿血，食纳、睡眠欠佳，小便正常，大便色黑，近期无明显消瘦。", 
"detection": "神志清晰，精神尚可，形体形体适中，语言清晰，口唇红润；皮肤正常，无斑疹。头颅大小形态正常，无目窼下陷，无白睛，耳轮正常，无耳瘘级生疮；颈部对称，无青筋暴露，无瘿瘤瘰疬，胸部对称，虚里搏动正常，腹部平坦，无癥瘕痞块，爪甲色泽红润，双下肢对称，舌质红，苔薄黄，脉弦。", 
"norm_syndrome": "气虚不摄证" 
}，{... ...}, {... ...}, ... ... 

## ZY-BERT模型的预训练
相比传统的BERT模型的训练方法，不同之处有：
1. 数据集：中医领域约4亿词汇
2. 预训练方式：**全词掩盖**（论文：Yiming Cui, Wanxiang Che, Ting Liu, Bing Qin, and Ziqing Yang. 2021. Pre-training with whole word masking for chinese bert. IEEE/ACM Transactions on Audio, Speech, and Language Processing, 29:3504–3514.**已下载**）

## 微调下游任务
ZY-BERT的输入：CLS chief_complaint SEP description SEP 

取ZY-BERT的CLS 进行多分类

下游任务输出：所有证的概率

## 引入知识
> {
"Name": "风寒袭肺证", 
"Definition": "是指风寒侵袭，肺气失宣，以恶寒，无汗，咳嗽，胸闷气喘，吐白痰，苔白，脉浮紧等为常见症的证候。常见于咳嗽等疾病中。西医学小儿支气管炎、急性气管-支气管炎中可见本证。", 
"Typical_performance": "咳嗽，咳痰清稀，鼻塞，流清涕，喉痒，兼有恶寒重、发热轻，或见身痛无汗，舌苔薄白，脉浮紧。", 
"Common_isease": "1、咳嗽\n\n症见咳嗽声重，气急咽痒，咳痰稀薄色白，鼻塞，流清涕，头痛，肢体酸痛，恶寒，发热，无汗，舌苔薄白，脉浮或浮紧。治宜疏风散寒，宣肺止咳。方用三拗汤合止嗽散加减。\n\n2、小儿支气管炎\n\n症见咳嗽频作，痰稀色白易咯，鼻塞，喷嚏，流清涕，恶寒，发热，无汘，咽痒声重，口不渴，头痛，全身酸痛，舌质淡红，苔薄白，脉浮紧或指纹浮红。治宜疏风散寒，宣肺止咳。方用华盖散加减。\n\n3、急性气管-支气管炎\n\n咳嗽声重，气急咽痒，咳痰稀白，鼻塞流涕，恶寒发热，无汗，头痛，肢体酸楚，舌苔薄白，脉浮或浮紧。治宜疏风散寒，宣肺止咳。方用止嗽散合三拗汤。", 
"id": 0
}, {... ...}, {... ...}, ... ...

实验1: 输入 诊断历史（description） + 所有的证型名称
	
实验2: 输入诊断历史 + 5个证型名称(其中一个是正确的)
	
实验3: 输入诊断历史 + 5个证型名称 + 证型对应的知识（其中一个是正确的）





   






